# Run in Standard sql
CREATE OR REPLACE FUNCTION
general.bq_documentation_entities_context_refactor
 (message string)
 RETURNS int64
AS (
# Model language based on commit: a8cf9c3e9b738c22b16936caeeffe6583d1397b5
# Refactor :build_documentation_entities_context(build_refactor_regex())
(LENGTH(REGEXP_REPLACE(lower(message),'(((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(change( |-)?log|comment(s)?|copy( |-)?right(s)?|doc(s)?|documentation|explanation(s)?|man( |-)?page(s)?|manual|note(s)?|readme(.md)?|[a-z\\d_\\-/\\\\]*.(md|txt)|translation(s)?|java( |-)?doc(s)?|java( |-)?documentation|example(s)?|diagram(s)?|guide(s)?|gitignore|icon(s)?|doc( |-)?string(s)?|tutorials(s)?|help|man|doc( |-)?string(s)?|desc(ription)?(s)?|copy( |-)?right(s)?|explanation(s)?|release notes|tag(s)?))[\\s\\S]{0,10}(((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(clean(ing)?(-| )?up(s)?|call(s|ed|ing)?[\\s\\S]{1,50}instead|collaps(e|es|ed|ing)|consolidat(e|es|ed|ing)|decompos(e|es|ed|ing)|drop(ed|s|ing)?( back)|encapsulat(e|es|ed|ing)|gereneliz(e|es|ed|ing)|optimiz(e|es|ed|ing|ation|ations)|pull(ed|s|ing)? (up|down)|re(-)?(write|wrote)|re(-| )?factor(ed|s|ing|ings)?|re(-)?implement(ed|s|ing)?|renam(e|es|ed|ing|ings)|better nam(e|es|ing)|re(-)?organiz(e|es|ed|ing)|re(-)?organization|re(-)?work(ed|s|ing|ings)?|reorg|simplif(y|es|ied|ying|ication)|suppress(es|ed|ing)? warning(s)?|unif(y|ies|ied|ing)|uninline|beef(ed|s|ing)? up|refactor(ing)?(s)?|code improvement(s)?|revis(e|es|ed|ing)|re(-)?construct(s|ed|ing)?|re(-)?(write|write|wrote|writing)|re(-)?cod(e|ed|es|ing)|factor(ed|s|ing)? out|re(-| )?packag(e|es|ed|ing))(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))|((((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(clean(ing|s|ed)?clean(ing)?(-| )?up(s)?|combin(e|es|ed|ing)|compos(e|es|ed|ing)|de(-| )?compos(e|es|ed|ing)|convert(ed|s|ing)?|dead|deprecat(e|es|ed|ing)|drop(ed|s|ing)?|duplicat(e|es|ed|ing)|extract(ed|s|ing)?|improv(e|es|ed|ing)|increas(e|es|ed|ing)|(make|makes|made|making)|mov(e|es|ed|ing)|rebuil(d|ds|ding|t)|replac(e|es|ed|ing)|redundant|re(-|)?organiz(e|es|ed|ing)|re(-|)?structur(e|es|ed|ing)|separat(e|e s|ed|ing)|split(s|ing)?|subsitut(e|es|ed|ing)|tid(y|ying|ied)|short(:?en|er|ing|s)?|polish(ed|es|ing)?|(get|got|getting) rid|encapsulate|hide(e|es|ed|ing)|un(-| )?hid(e|es|ed|ing)|parameteriz(e|es|ed|ing)|substitut(e|es|ed|ing)|unnecessary|unneeded|unused|(not|never|no longer) used|no longer needed|redundant|useless|duplicate(d)?|deprecated|obsolete(d)?|commented))((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)|(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)[\\s\\S]{0,50}(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))(assertion(s)?|assignment(s)?|code|conditional(s)?|control|definition(s)?|delegate|delegation|design pattern(s)?|error(-| )?code(s)?|exception(s)?|flag(s)?|getter(s)?|guard clause(s)?|hierarch(y|ies)|implementation(s)?|inheritance|inline|internal|macro(s)?|magic number(s)?|modifier(s)?|null object(s)?|object(s)?|patch(es)?|pointer(s)?|polymorphism|quer(y|ies)|reference(s)?|ref(s)?|return type|setter(s)?|static|sub(-| )?class(es)?|super(-| )?class(es)?|(sub)?(-| )?system(s)?|uninline|variable(s)?|handler|plugin|contravariant|covariant|action(s)?|queue(s)?|stack(s)?|driver(s)?|storage|tool(s)?|log(s)?|setting(s)?|fall( |-)back(s)?|memory|param(s)?|volatile|file(s)?|generic(s)?|initialization(s)?|public|protected|private|framework|singelton|declaration(s)?|init|destructor(s)?|instances(s)?|primitive(s)?|algorithm(s)?|class(es)?|collection(s)?|constant(s)?|constructor(s)?|field(s)?|function(s)?|interface(s)?|member(s)?|method(s)?|parameter(s)?|structure(s)?|template(s)?|type(s)?|unit(s)?|module(s)?|(helper|utility|auxiliary) function(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)))|((^|^[\\s\\S]{0,25}(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))(clean(ing|s|ed)?(-| )?up(s)?|cleaner|deprecat(e|es|ed|ing)|extract(ed|s|ing)?|re(-|)?organiz(e|es|ed|ing)|re(-|)?structur(e|es|ed|ing)|tid(y|ying|ied) up|improv(e|ed|es|ing|ement|ements)|re(-|)?organiz(e|es|ed|ing)|re(-|)?structur(e|es|ed|ing)|(helper|utility|auxiliary) function(s)?|(move|moved|moves|moving) to|separat(e|es|ed|ing)|split(s|ing)?|->)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))))', '@'))-LENGTH(REGEXP_REPLACE(lower(message),'(((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(change( |-)?log|comment(s)?|copy( |-)?right(s)?|doc(s)?|documentation|explanation(s)?|man( |-)?page(s)?|manual|note(s)?|readme(.md)?|[a-z\\d_\\-/\\\\]*.(md|txt)|translation(s)?|java( |-)?doc(s)?|java( |-)?documentation|example(s)?|diagram(s)?|guide(s)?|gitignore|icon(s)?|doc( |-)?string(s)?|tutorials(s)?|help|man|doc( |-)?string(s)?|desc(ription)?(s)?|copy( |-)?right(s)?|explanation(s)?|release notes|tag(s)?))[\\s\\S]{0,10}(((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(clean(ing)?(-| )?up(s)?|call(s|ed|ing)?[\\s\\S]{1,50}instead|collaps(e|es|ed|ing)|consolidat(e|es|ed|ing)|decompos(e|es|ed|ing)|drop(ed|s|ing)?( back)|encapsulat(e|es|ed|ing)|gereneliz(e|es|ed|ing)|optimiz(e|es|ed|ing|ation|ations)|pull(ed|s|ing)? (up|down)|re(-)?(write|wrote)|re(-| )?factor(ed|s|ing|ings)?|re(-)?implement(ed|s|ing)?|renam(e|es|ed|ing|ings)|better nam(e|es|ing)|re(-)?organiz(e|es|ed|ing)|re(-)?organization|re(-)?work(ed|s|ing|ings)?|reorg|simplif(y|es|ied|ying|ication)|suppress(es|ed|ing)? warning(s)?|unif(y|ies|ied|ing)|uninline|beef(ed|s|ing)? up|refactor(ing)?(s)?|code improvement(s)?|revis(e|es|ed|ing)|re(-)?construct(s|ed|ing)?|re(-)?(write|write|wrote|writing)|re(-)?cod(e|ed|es|ing)|factor(ed|s|ing)? out|re(-| )?packag(e|es|ed|ing))(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))|((((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(clean(ing|s|ed)?clean(ing)?(-| )?up(s)?|combin(e|es|ed|ing)|compos(e|es|ed|ing)|de(-| )?compos(e|es|ed|ing)|convert(ed|s|ing)?|dead|deprecat(e|es|ed|ing)|drop(ed|s|ing)?|duplicat(e|es|ed|ing)|extract(ed|s|ing)?|improv(e|es|ed|ing)|increas(e|es|ed|ing)|(make|makes|made|making)|mov(e|es|ed|ing)|rebuil(d|ds|ding|t)|replac(e|es|ed|ing)|redundant|re(-|)?organiz(e|es|ed|ing)|re(-|)?structur(e|es|ed|ing)|separat(e|e s|ed|ing)|split(s|ing)?|subsitut(e|es|ed|ing)|tid(y|ying|ied)|short(:?en|er|ing|s)?|polish(ed|es|ing)?|(get|got|getting) rid|encapsulate|hide(e|es|ed|ing)|un(-| )?hid(e|es|ed|ing)|parameteriz(e|es|ed|ing)|substitut(e|es|ed|ing)|unnecessary|unneeded|unused|(not|never|no longer) used|no longer needed|redundant|useless|duplicate(d)?|deprecated|obsolete(d)?|commented))((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)|(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)[\\s\\S]{0,50}(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))(assertion(s)?|assignment(s)?|code|conditional(s)?|control|definition(s)?|delegate|delegation|design pattern(s)?|error(-| )?code(s)?|exception(s)?|flag(s)?|getter(s)?|guard clause(s)?|hierarch(y|ies)|implementation(s)?|inheritance|inline|internal|macro(s)?|magic number(s)?|modifier(s)?|null object(s)?|object(s)?|patch(es)?|pointer(s)?|polymorphism|quer(y|ies)|reference(s)?|ref(s)?|return type|setter(s)?|static|sub(-| )?class(es)?|super(-| )?class(es)?|(sub)?(-| )?system(s)?|uninline|variable(s)?|handler|plugin|contravariant|covariant|action(s)?|queue(s)?|stack(s)?|driver(s)?|storage|tool(s)?|log(s)?|setting(s)?|fall( |-)back(s)?|memory|param(s)?|volatile|file(s)?|generic(s)?|initialization(s)?|public|protected|private|framework|singelton|declaration(s)?|init|destructor(s)?|instances(s)?|primitive(s)?|algorithm(s)?|class(es)?|collection(s)?|constant(s)?|constructor(s)?|field(s)?|function(s)?|interface(s)?|member(s)?|method(s)?|parameter(s)?|structure(s)?|template(s)?|type(s)?|unit(s)?|module(s)?|(helper|utility|auxiliary) function(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)))|((^|^[\\s\\S]{0,25}(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))(clean(ing|s|ed)?(-| )?up(s)?|cleaner|deprecat(e|es|ed|ing)|extract(ed|s|ing)?|re(-|)?organiz(e|es|ed|ing)|re(-|)?structur(e|es|ed|ing)|tid(y|ying|ied) up|improv(e|ed|es|ing|ement|ements)|re(-|)?organiz(e|es|ed|ing)|re(-|)?structur(e|es|ed|ing)|(helper|utility|auxiliary) function(s)?|(move|moved|moves|moving) to|separat(e|es|ed|ing)|split(s|ing)?|->)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))))', '')))
 )
 ;