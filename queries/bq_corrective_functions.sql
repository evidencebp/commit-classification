# Run in Standard sql
CREATE OR REPLACE FUNCTION
general.bq_corrective
 (message string)
 RETURNS int64
AS (
# Model language based on commit: 4b76d8e76af938824f91f4b99247731c21e37ff9
# Corrective
# Corrective : build_bug_fix_regex()
(LENGTH(REGEXP_REPLACE(lower(message),'(((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(actual.*expected|((assignment|assign|=) in if|== instead of =)|expected.*actual(choose|take|set|use)\\s*(the|a)?\\s*correct|(not|isn\'t|doesn\'t)\\s+work(s|ing)?|doesn\'t recognize|double(-| )allocat(e|ion|ions)|double(-| )free(s)?|caused a regression|bad initialization(s)?|buffer overflow(s)?|fixme(s)?|(break|broke|breaking|broken)[\\s\\S]{0,20}(code|system|function|method)|crash(ing|s|ed)?|correct(ing|s|ed)?\\s*(a|the|some|few|this)|correct(ed|ion|ly|s)?|(dangling|hanging) pointer(s)?|deadlock(s)?|(divid(e|es|ed|ing)|division) by (zero|0)|double(-| )free|fail(ing|s|ed)?|faulty initialization(s)?|fix(-| )?in(s)?|fix(-| )?up(s)?|flaw(s|ed)?|(float|integer) (under|over)(-| )?flow|hot(-| )?fix(ed|es|ing)?|heap overflow(s)?|(im|im-)?propermemory(-| )?leak(s)?|missing\\s(default value|initialization|switch case)(s)?|is\\smissing|add(ing|s|ed)?\\smiss(ing|es|ed)?|null pointer(s)?|off(-| )by(-| )(one|1)|out of bound(s)?|over(-| )?run(s)?|patch(ed|ing)|race condition(s)?|data race(s)?|repair(ing|s|ed)?|resource leak(s)?|leak(s)?|revert(ing|s|ed)?|segmentation (fault|violation)(s)?|resolv(ing|e|es|ed)|workaround(s)?|wrong(nly)?|(type(s)? mis(-| )?match|(not|non|none) matching type(s)?)|trouble(s)?|(un(-| )?|not )initialized variable(s)?|vulnerabilit(y|ies)|bug(s|z)?|bug(-|\\s)?fix(es)?|defect(s)?|error(s)?|failur(ing|e|es|ed)|fault(s)?|fix(ed|es|ing)?|fixing(s)?|incorrect(ly)?|mistake(s|n|nly)?|problem(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))|((^|^[\\s\\S]{0,25}(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))(correct(ing|s|ed)|fix(ed|s|es|ing)?|repair(ing|s|ed)?|revert(ing|s|ed)?|resolv(ing|e|es|ed)|revok(ing|e|es|ed)|und(oing|id)|miss(ing|es|ed)?|should|must|(have|has) to|avoid|prevent|break(s|ed|ing)?|broken|remov(ing|e|es|ed) change(s)?|unable|proper(ly)?|(merge (branch|pull request).{0,25}|merge (branch|pull request).{0,25}(from|into).{0,25})(bug(s|z)?|bug(-|\\s)?fix(es)?|defect(s)?|error(s)?|failur(ing|e|es|ed)|fault(s)?|fix(ed|es|ing)?|fixing(s)?|incorrect(ly)?|mistake(s|n|nly)?|problem(s)?).{0,250}(\\r\\n|\\r|\\n|$))(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))|(^(fix)(\\(.*\\))?(!)?:))', '@'))-LENGTH(REGEXP_REPLACE(lower(message),'(((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(actual.*expected|((assignment|assign|=) in if|== instead of =)|expected.*actual(choose|take|set|use)\\s*(the|a)?\\s*correct|(not|isn\'t|doesn\'t)\\s+work(s|ing)?|doesn\'t recognize|double(-| )allocat(e|ion|ions)|double(-| )free(s)?|caused a regression|bad initialization(s)?|buffer overflow(s)?|fixme(s)?|(break|broke|breaking|broken)[\\s\\S]{0,20}(code|system|function|method)|crash(ing|s|ed)?|correct(ing|s|ed)?\\s*(a|the|some|few|this)|correct(ed|ion|ly|s)?|(dangling|hanging) pointer(s)?|deadlock(s)?|(divid(e|es|ed|ing)|division) by (zero|0)|double(-| )free|fail(ing|s|ed)?|faulty initialization(s)?|fix(-| )?in(s)?|fix(-| )?up(s)?|flaw(s|ed)?|(float|integer) (under|over)(-| )?flow|hot(-| )?fix(ed|es|ing)?|heap overflow(s)?|(im|im-)?propermemory(-| )?leak(s)?|missing\\s(default value|initialization|switch case)(s)?|is\\smissing|add(ing|s|ed)?\\smiss(ing|es|ed)?|null pointer(s)?|off(-| )by(-| )(one|1)|out of bound(s)?|over(-| )?run(s)?|patch(ed|ing)|race condition(s)?|data race(s)?|repair(ing|s|ed)?|resource leak(s)?|leak(s)?|revert(ing|s|ed)?|segmentation (fault|violation)(s)?|resolv(ing|e|es|ed)|workaround(s)?|wrong(nly)?|(type(s)? mis(-| )?match|(not|non|none) matching type(s)?)|trouble(s)?|(un(-| )?|not )initialized variable(s)?|vulnerabilit(y|ies)|bug(s|z)?|bug(-|\\s)?fix(es)?|defect(s)?|error(s)?|failur(ing|e|es|ed)|fault(s)?|fix(ed|es|ing)?|fixing(s)?|incorrect(ly)?|mistake(s|n|nly)?|problem(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))|((^|^[\\s\\S]{0,25}(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))(correct(ing|s|ed)|fix(ed|s|es|ing)?|repair(ing|s|ed)?|revert(ing|s|ed)?|resolv(ing|e|es|ed)|revok(ing|e|es|ed)|und(oing|id)|miss(ing|es|ed)?|should|must|(have|has) to|avoid|prevent|break(s|ed|ing)?|broken|remov(ing|e|es|ed) change(s)?|unable|proper(ly)?|(merge (branch|pull request).{0,25}|merge (branch|pull request).{0,25}(from|into).{0,25})(bug(s|z)?|bug(-|\\s)?fix(es)?|defect(s)?|error(s)?|failur(ing|e|es|ed)|fault(s)?|fix(ed|es|ing)?|fixing(s)?|incorrect(ly)?|mistake(s|n|nly)?|problem(s)?).{0,250}(\\r\\n|\\r|\\n|$))(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))|(^(fix)(\\(.*\\))?(!)?:))', '')))
 -
# Corrective : build_valid_find_regex()
(LENGTH(REGEXP_REPLACE(lower(message),'(((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(correct(ing|s|ed)|fix(ed|s|es|ing)?|repair(ing|s|ed)?|revert(ing|s|ed)?|resolv(ing|e|es|ed)|revok(ing|e|es|ed)|und(oing|id)|(merge (branch|pull request).{0,25}|merge (branch|pull request).{0,25}(from|into).{0,25}))[\\s\\S]{1,40}(change(s)?( |-)?(list|log|set|file)|comment(s)?|copy( |-)?right(s)?|doc(s)?|documentation|explanation(s)?|man( |-)?page(s)?|manual|note(s)?|readme(.md)?|[-a-z\\d_/\\\\]*.(md|txt)|translation(s)?|java( |-)?doc(s)?|java( |-)?documentation|example(s)?|diagram(s)?|guide(s)?|gitignore|icon(s)?|doc( |-)?string(s)?|tutorials(s)?|help|man|doc( |-)?string(s)?|desc(ription)?(s)?|copy( |-)?right(s)?|explanation(s)?|release notes|tag(s)?|indentation(s)?|style|todo(s)?|typo(s)?|verbosity|#|(camel|snake|kebab|flat|lower|upper)\\s*case|code review(\'s|s)?|comment(s)?|cosmetic(s)?|cr(s)?(-)?|documentation(s)?|help|remark(s)?|space(s)?|style|styling|typo(s)?|typing( |-)?(error|mistake)(s)?|warning(s)?|white( |-)?space(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))|((change(s)?( |-)?(list|log|set|file)|comment(s)?|copy( |-)?right(s)?|doc(s)?|documentation|explanation(s)?|man( |-)?page(s)?|manual|note(s)?|readme(.md)?|[-a-z\\d_/\\\\]*.(md|txt)|translation(s)?|java( |-)?doc(s)?|java( |-)?documentation|example(s)?|diagram(s)?|guide(s)?|gitignore|icon(s)?|doc( |-)?string(s)?|tutorials(s)?|help|man|doc( |-)?string(s)?|desc(ription)?(s)?|copy( |-)?right(s)?|explanation(s)?|release notes|tag(s)?|indentation(s)?|style|todo(s)?|typo(s)?|verbosity|#|(camel|snake|kebab|flat|lower|upper)\\s*case|code review(\'s|s)?|comment(s)?|cosmetic(s)?|cr(s)?(-)?|documentation(s)?|help|remark(s)?|space(s)?|style|styling|typo(s)?|typing( |-)?(error|mistake)(s)?|warning(s)?|white( |-)?space(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)[\\s\\S]{0,40}(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(correct(ing|s|ed)|fix(ed|s|es|ing)?|repair(ing|s|ed)?|revert(ing|s|ed)?|resolv(ing|e|es|ed)|revok(ing|e|es|ed)|und(oing|id)|(merge (branch|pull request).{0,25}|merge (branch|pull request).{0,25}(from|into).{0,25}))(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))|((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(error( |-)?check(ing)?|error( |-)?handling|error message(s)?|error report(s|ing)?|exception( |-)?handling|fixed( |-)?point|fix(ed) ticket(s)?|format(ing)?|(fix(ed)?|bug)( )?( |-|:)( )?\\d+(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)|(if|would)[\\s\\S]{0,40}go wrong|typo(s)?\\sfix(es)?|fix(ed|es|ing)?(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(algorithm(s)?|class(es)?|collection(s)?|constant(s)?|constructor(s)?|field(s)?|function(s)?|interface(s)?|member(s)?|method(s)?|module(s)?|parameter(s)?|procedure(s)?|routine(s)?`|structure(s)?|template(s)?|type(s)?|unit(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)name(s)?|(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(lint|pylint|tslint|jlint|jslint|eslint|klint|xlint|linter)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)fix(es|ed)?|fix(es|ed)?(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(lint|pylint|tslint|jlint|jslint|eslint|klint|xlint|linter)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)|^### Bug Fix|edit the jira link to the correct issue|(cr|pr)(s)?(-)?(d+)?\\sfix(es)?|fix(ing|es|ed)?\\s(cr|pr|code review|code-review|review))(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)))', '@'))-LENGTH(REGEXP_REPLACE(lower(message),'(((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(correct(ing|s|ed)|fix(ed|s|es|ing)?|repair(ing|s|ed)?|revert(ing|s|ed)?|resolv(ing|e|es|ed)|revok(ing|e|es|ed)|und(oing|id)|(merge (branch|pull request).{0,25}|merge (branch|pull request).{0,25}(from|into).{0,25}))[\\s\\S]{1,40}(change(s)?( |-)?(list|log|set|file)|comment(s)?|copy( |-)?right(s)?|doc(s)?|documentation|explanation(s)?|man( |-)?page(s)?|manual|note(s)?|readme(.md)?|[-a-z\\d_/\\\\]*.(md|txt)|translation(s)?|java( |-)?doc(s)?|java( |-)?documentation|example(s)?|diagram(s)?|guide(s)?|gitignore|icon(s)?|doc( |-)?string(s)?|tutorials(s)?|help|man|doc( |-)?string(s)?|desc(ription)?(s)?|copy( |-)?right(s)?|explanation(s)?|release notes|tag(s)?|indentation(s)?|style|todo(s)?|typo(s)?|verbosity|#|(camel|snake|kebab|flat|lower|upper)\\s*case|code review(\'s|s)?|comment(s)?|cosmetic(s)?|cr(s)?(-)?|documentation(s)?|help|remark(s)?|space(s)?|style|styling|typo(s)?|typing( |-)?(error|mistake)(s)?|warning(s)?|white( |-)?space(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))|((change(s)?( |-)?(list|log|set|file)|comment(s)?|copy( |-)?right(s)?|doc(s)?|documentation|explanation(s)?|man( |-)?page(s)?|manual|note(s)?|readme(.md)?|[-a-z\\d_/\\\\]*.(md|txt)|translation(s)?|java( |-)?doc(s)?|java( |-)?documentation|example(s)?|diagram(s)?|guide(s)?|gitignore|icon(s)?|doc( |-)?string(s)?|tutorials(s)?|help|man|doc( |-)?string(s)?|desc(ription)?(s)?|copy( |-)?right(s)?|explanation(s)?|release notes|tag(s)?|indentation(s)?|style|todo(s)?|typo(s)?|verbosity|#|(camel|snake|kebab|flat|lower|upper)\\s*case|code review(\'s|s)?|comment(s)?|cosmetic(s)?|cr(s)?(-)?|documentation(s)?|help|remark(s)?|space(s)?|style|styling|typo(s)?|typing( |-)?(error|mistake)(s)?|warning(s)?|white( |-)?space(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)[\\s\\S]{0,40}(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(correct(ing|s|ed)|fix(ed|s|es|ing)?|repair(ing|s|ed)?|revert(ing|s|ed)?|resolv(ing|e|es|ed)|revok(ing|e|es|ed)|und(oing|id)|(merge (branch|pull request).{0,25}|merge (branch|pull request).{0,25}(from|into).{0,25}))(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))|((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(error( |-)?check(ing)?|error( |-)?handling|error message(s)?|error report(s|ing)?|exception( |-)?handling|fixed( |-)?point|fix(ed) ticket(s)?|format(ing)?|(fix(ed)?|bug)( )?( |-|:)( )?\\d+(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)|(if|would)[\\s\\S]{0,40}go wrong|typo(s)?\\sfix(es)?|fix(ed|es|ing)?(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(algorithm(s)?|class(es)?|collection(s)?|constant(s)?|constructor(s)?|field(s)?|function(s)?|interface(s)?|member(s)?|method(s)?|module(s)?|parameter(s)?|procedure(s)?|routine(s)?`|structure(s)?|template(s)?|type(s)?|unit(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)name(s)?|(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(lint|pylint|tslint|jlint|jslint|eslint|klint|xlint|linter)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)fix(es|ed)?|fix(es|ed)?(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(lint|pylint|tslint|jlint|jslint|eslint|klint|xlint|linter)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)|^### Bug Fix|edit the jira link to the correct issue|(cr|pr)(s)?(-)?(d+)?\\sfix(es)?|fix(ing|es|ed)?\\s(cr|pr|code review|code-review|review))(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)))', '')))
 -
# Corrective : build_negeted_bug_fix_regex()
(LENGTH(REGEXP_REPLACE(lower(message),'(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(aren\'t|arent|didn\'t|didnt|don\'t|dont|doesn\'t|doesnt|isn\'t|isnt|lack|n\'t|never|no|nobody|none|not|nothing|weren\'t|werent|without|won\'t|wont)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)[\\s\\S]{0,20}(((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(actual.*expected|((assignment|assign|=) in if|== instead of =)|expected.*actual(choose|take|set|use)\\s*(the|a)?\\s*correct|(not|isn\'t|doesn\'t)\\s+work(s|ing)?|doesn\'t recognize|double(-| )allocat(e|ion|ions)|double(-| )free(s)?|caused a regression|bad initialization(s)?|buffer overflow(s)?|fixme(s)?|(break|broke|breaking|broken)[\\s\\S]{0,20}(code|system|function|method)|crash(ing|s|ed)?|correct(ing|s|ed)?\\s*(a|the|some|few|this)|correct(ed|ion|ly|s)?|(dangling|hanging) pointer(s)?|deadlock(s)?|(divid(e|es|ed|ing)|division) by (zero|0)|double(-| )free|fail(ing|s|ed)?|faulty initialization(s)?|fix(-| )?in(s)?|fix(-| )?up(s)?|flaw(s|ed)?|(float|integer) (under|over)(-| )?flow|hot(-| )?fix(ed|es|ing)?|heap overflow(s)?|(im|im-)?propermemory(-| )?leak(s)?|missing\\s(default value|initialization|switch case)(s)?|is\\smissing|add(ing|s|ed)?\\smiss(ing|es|ed)?|null pointer(s)?|off(-| )by(-| )(one|1)|out of bound(s)?|over(-| )?run(s)?|patch(ed|ing)|race condition(s)?|data race(s)?|repair(ing|s|ed)?|resource leak(s)?|leak(s)?|revert(ing|s|ed)?|segmentation (fault|violation)(s)?|resolv(ing|e|es|ed)|workaround(s)?|wrong(nly)?|(type(s)? mis(-| )?match|(not|non|none) matching type(s)?)|trouble(s)?|(un(-| )?|not )initialized variable(s)?|vulnerabilit(y|ies)|bug(s|z)?|bug(-|\\s)?fix(es)?|defect(s)?|error(s)?|failur(ing|e|es|ed)|fault(s)?|fix(ed|es|ing)?|fixing(s)?|incorrect(ly)?|mistake(s|n|nly)?|problem(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))|((^|^[\\s\\S]{0,25}(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))(correct(ing|s|ed)|fix(ed|s|es|ing)?|repair(ing|s|ed)?|revert(ing|s|ed)?|resolv(ing|e|es|ed)|revok(ing|e|es|ed)|und(oing|id)|miss(ing|es|ed)?|should|must|(have|has) to|avoid|prevent|break(s|ed|ing)?|broken|remov(ing|e|es|ed) change(s)?|unable|proper(ly)?|(merge (branch|pull request).{0,25}|merge (branch|pull request).{0,25}(from|into).{0,25})(bug(s|z)?|bug(-|\\s)?fix(es)?|defect(s)?|error(s)?|failur(ing|e|es|ed)|fault(s)?|fix(ed|es|ing)?|fixing(s)?|incorrect(ly)?|mistake(s|n|nly)?|problem(s)?).{0,250}(\\r\\n|\\r|\\n|$))(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)))', '@'))-LENGTH(REGEXP_REPLACE(lower(message),'(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(aren\'t|arent|didn\'t|didnt|don\'t|dont|doesn\'t|doesnt|isn\'t|isnt|lack|n\'t|never|no|nobody|none|not|nothing|weren\'t|werent|without|won\'t|wont)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)[\\s\\S]{0,20}(((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(actual.*expected|((assignment|assign|=) in if|== instead of =)|expected.*actual(choose|take|set|use)\\s*(the|a)?\\s*correct|(not|isn\'t|doesn\'t)\\s+work(s|ing)?|doesn\'t recognize|double(-| )allocat(e|ion|ions)|double(-| )free(s)?|caused a regression|bad initialization(s)?|buffer overflow(s)?|fixme(s)?|(break|broke|breaking|broken)[\\s\\S]{0,20}(code|system|function|method)|crash(ing|s|ed)?|correct(ing|s|ed)?\\s*(a|the|some|few|this)|correct(ed|ion|ly|s)?|(dangling|hanging) pointer(s)?|deadlock(s)?|(divid(e|es|ed|ing)|division) by (zero|0)|double(-| )free|fail(ing|s|ed)?|faulty initialization(s)?|fix(-| )?in(s)?|fix(-| )?up(s)?|flaw(s|ed)?|(float|integer) (under|over)(-| )?flow|hot(-| )?fix(ed|es|ing)?|heap overflow(s)?|(im|im-)?propermemory(-| )?leak(s)?|missing\\s(default value|initialization|switch case)(s)?|is\\smissing|add(ing|s|ed)?\\smiss(ing|es|ed)?|null pointer(s)?|off(-| )by(-| )(one|1)|out of bound(s)?|over(-| )?run(s)?|patch(ed|ing)|race condition(s)?|data race(s)?|repair(ing|s|ed)?|resource leak(s)?|leak(s)?|revert(ing|s|ed)?|segmentation (fault|violation)(s)?|resolv(ing|e|es|ed)|workaround(s)?|wrong(nly)?|(type(s)? mis(-| )?match|(not|non|none) matching type(s)?)|trouble(s)?|(un(-| )?|not )initialized variable(s)?|vulnerabilit(y|ies)|bug(s|z)?|bug(-|\\s)?fix(es)?|defect(s)?|error(s)?|failur(ing|e|es|ed)|fault(s)?|fix(ed|es|ing)?|fixing(s)?|incorrect(ly)?|mistake(s|n|nly)?|problem(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))|((^|^[\\s\\S]{0,25}(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))(correct(ing|s|ed)|fix(ed|s|es|ing)?|repair(ing|s|ed)?|revert(ing|s|ed)?|resolv(ing|e|es|ed)|revok(ing|e|es|ed)|und(oing|id)|miss(ing|es|ed)?|should|must|(have|has) to|avoid|prevent|break(s|ed|ing)?|broken|remov(ing|e|es|ed) change(s)?|unable|proper(ly)?|(merge (branch|pull request).{0,25}|merge (branch|pull request).{0,25}(from|into).{0,25})(bug(s|z)?|bug(-|\\s)?fix(es)?|defect(s)?|error(s)?|failur(ing|e|es|ed)|fault(s)?|fix(ed|es|ing)?|fixing(s)?|incorrect(ly)?|mistake(s|n|nly)?|problem(s)?).{0,250}(\\r\\n|\\r|\\n|$))(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)))', '')))
#Corrective - end
 )
 ;


# Run in Standard sql
CREATE OR REPLACE FUNCTION
general.bq_core_bug
 (message string)
 RETURNS int64
AS (
# Model language based on commit: 4b76d8e76af938824f91f4b99247731c21e37ff9
# Core Bug Term
(LENGTH(REGEXP_REPLACE(lower(message),'((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(bug(s|z)?|bug(-|\\s)?fix(es)?|defect(s)?|error(s)?|failur(ing|e|es|ed)|fault(s)?|fix(ed|es|ing)?|fixing(s)?|incorrect(ly)?|mistake(s|n|nly)?|problem(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))', '@'))-LENGTH(REGEXP_REPLACE(lower(message),'((\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|)(bug(s|z)?|bug(-|\\s)?fix(es)?|defect(s)?|error(s)?|failur(ing|e|es|ed)|fault(s)?|fix(ed|es|ing)?|fixing(s)?|incorrect(ly)?|mistake(s|n|nly)?|problem(s)?)(\\s|\\.|\\?|\\!|\\[|\\]|\\(|\\)|\\:|^|$|\\,|\'|"|/|#|\\$|\\%|&|\\*|\\+|=|`|;|<|>|@|~|{|}|_|\\|))', '')))
#Core Bug Term - end
 )
 ;
